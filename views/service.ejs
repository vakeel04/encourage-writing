<%-include('partials/header')%>
<section style="background-image: url('/images/farme.png'); background-repeat: no-repeat; background-position: center; " class="pt-[50px] pb-[80px] lg:mt-20 mt-10">

  <div class="grid lg:grid-cols-3 gap-8 lg:px-14 px-4">
    <div class="lg:col-span-2">
      <h2 class="lg:text-[36px] text-[22px]"><%= data?.service?.name %></h2>

      <p class="text-[12px] lg:text-[16px]"><%= data?.service?.description %></p>

      <div class="flex lg:gap-4 gap-2 lg:mt-7 mt-4">
        <div class="bg-[#EFEFEF] flex-1  lg:px-5 px-4 py-4 rounded-md  flex gap-3 items-center">
          <i class="fa-solid fa-clock lg:text-[22px] text-[17px]"></i>

          <div>
            <h3 class="font-medium lg:text-[17px] text-[13px]">Free Delivery</h3>
            <p class="lg:text-[14px] text-[12px] font-medium -mt-1"><%= data?.service?.fastDelivery %> hours</p>
          </div>
        </div>

        <div class="bg-[#EFEFEF]  lg:px-5 px-4  flex-1 py-4 rounded-md flex gap-3 items-center">
          <i class="fa-solid fa-medal  lg:text-[22px] text-[17px]"></i>
          <div>
            <h3 class="font-medium lg:text-[17px] text-[13px]">Quality Assured</h3>
            <p class="lg:text-[14px] text-[12px] font-medium -mt-1"><%= data?.service?.QualityAssured %> satisfaction</p>
          </div>
        </div>

        <div class="bg-[#EFEFEF]  lg:px-5 px-4  flex-1 py-4 rounded-md flex gap-3 items-center">
          <i class="fa-solid fa-users  lg:text-[22px] text-[17px]"></i>

          <div>
            <h3 class="font-medium lg:text-[17px] text-[13px]">Expert Writers</h3>
            <p class="lg:text-[14px] text-[12px] font-medium -mt-1"><%= data?.service?.expertWriters %> specialists</p>
          </div>
        </div>

      </div>

      <div class="lg:mt-7 mt-4">
        <a href="#" class="bg-black text-white lg:py-2.5 py-2 lg:text-[16px] text-[13px] font-medium lg:px-8 px-5 rounded-md inline-block border">Get Started Now</a>

        <a href="#" class="ml-1 lg:py-2.5 py-2 lg:text-[16px] text-[13px] font-medium lg:px-8 px-5 rounded-md inline-block border">View Sample</a>
      </div>

    </div>

    <div class="col-span-1">
      <img class="w-full h-[400px] object-cover rounded-3xl " src="/<%= data?.service?.image %>" alt="">
    </div>
  </div>

</section>


<section class="lg:px-14 px-4">
  <div class="text-center">
    <h2 class="lg:text-[40px] text-[20px] font-semibold">
      <%= data?.specialization?.heading %>
    </h2>
    <p class="lg:text-[18px] text-[12px] font-medium">
      <%= data?.specialization?.subHeading %>
    </p>
  </div>

  <div class="grid lg:grid-cols-4 grid-cols-2 lg:gap-6 gap-4 mt-8 lg:mt-16">
    <% data?.specialization?.specialization?.forEach((item, index) => { %>
    <div class="col-span-1 relative border-[#B2B2B2] border rounded-2xl px-5 lg:pt-10 pt-6 pb-6">
      <% if (index === 0) { %>
      <div class="inline-block bg-black text-white font-medium py-1 px-4 rounded-md absolute lg:text-[13px] text-[11px] -top-3 -right-2.5">
        Most Popular
      </div>
      <% } %>

      <img src="/<%= item.icon %>" class="lg:w-[32px] w-[27px]" alt="<%= item.title %> icon">
      <h4 class="font-medium lg:text-[17px] text-[14px] mt-2"><%= item.title %></h4>

      <p class="text-[#5B5B5B] lg:text-[14px] text-[12px] mt-1">
        <%= item.subTitle %>
      </p>

      <div class="lg:text-[15px] text-[13px] flex justify-between lg:mt-5 mt-3">
        <p>Starting at:</p>
        <p class="font-medium"><%= item.startingAt %></p>
      </div>

      <div class="lg:text-[15px] text-[13px] flex justify-between">
        <p>Turnaround:</p>
        <p class="font-medium"><%= item.turnaround %></p>
      </div>
    </div>
    <% }) %>
  </div>
</section>


<section class="py-12 lg:px-14 px-4 lg:mb-8">
  <div class="text-center">
    <div class="border-[#C7C7C7] border lg:px-4 px-6 rounded-full  inline-block lg:py-2 py-1.5">
      <div class="flex items-center gap-2 text-[12px]">
        <img src="./images/star.png" alt="" class="lg:w-[12px] w-[10px]">
        <p class="font-semibold lg:text-[16px] text-[13px]">Trusted By</p>
      </div>
    </div>


    <h2 class="lg:text-[40px] text-[20px] font-semibold lg:mt-0 mt-2"><%= data?.contentPricing?.heading %></h2>
    <p class="lg:text-[18px] text-[12px] font-medium"><%= data?.contentPricing?.subHeading %></p>
  </div>

  <div class="grid lg:grid-cols-2 border-[#C7C7C7] border rounded-[20px] mt-10 lg:px-8 px-4 lg:py-6 py-4">
    <div class="col-span-1">
      <h2 class="lg:text-[22px] text-[18px] font-medium">Calculate your pricing for content</h2>
      <div class="mt-4">
        <label class="font-medium lg:text-[17px] text-[15px]">Content Type</label>

        <div class="relative w-full">
          <select class="block w-full font-medium text-[15px] outline-0 cursor-pointer mt-1 border-[#c7c7c7] border py-3 rounded-md px-4 appearance-none pr-10">
            <option value="">Service Type</option>

          </select>

          <!-- Custom Icon -->
          <span class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none">
            <i class="fa-solid fa-angle-down text-[15px] text-gray-500"></i>
          </span>
        </div>

        <div class="mt-4">
          <label class="font-medium lg:text-[17px] text-[15px]">Quantity</label>
          <input value="500" type="text" class="block w-full font-medium text-[15px] outline-0 cursor-pointer mt-1 border-[#c7c7c7] border py-3 rounded-md px-4 appearance-none pr-10">
        </div>

        <div class="mt-4">
          <p class="font-medium lg:text-[17px] text-[15px]">Your Price</p>
          <p class="font-medium lg:text-[36px] text-[26px]">â‚¹ 0.00 <span class="lg:text-[16px] text-[13px]">Rupees</span></p>
        </div>

      </div>
    </div>

    <div class="col-span-1 lg:pl-16 mt-5 lg:mt-0">
      <div class="bg-[#F6F6F6] lg:px-8 px-6 py-4 lg:py-6 rounded-xl">
        <h3 class="lg:text-[22px] text-[18px] font-medium"><%= data?.contentPricing?.title %></h3>

        <ul class="mt-4 space-y-2.5">
          <% if (data?.contentPricing && data?.contentPricing && data?.contentPricing?.detail) { %>
          <% data?.contentPricing?.detail?.forEach(item => { %>
          <li class="flex items-center gap-2.5">
            <img class="lg:w-[24px] w-[20px]" src="/images/check.png" alt="check">
            <span class="font-medium lg:text-[16px] text-[14px]"><%= item %></span>
          </li>
          <% }) %>
          <% } else { %>
          <p class="text-gray-400 text-sm">No items available.</p>
          <% } %>
        </ul>

        <div class="mt-4">
          <a href="#" class="rounded-md text-white bg-black py-2.5 font-medium block w-full text-center lg:text-[16px] text-[14px]">
            Get Started
          </a>
        </div>
      </div>
    </div>


  </div>
</section>

<section class="lg:px-14 px-4 py-8 lg:py-14 bg-[#F2F2F2]">
  <div class="text-center">
    <h2 class="text-[40px] font-semibold"><%= data?.specialization?.heading %></h2>
    <p class="text-[18px] font-medium w-[70%] mx-auto"><%= data?.specialization?.subHeading %></p>
  </div>

  <!-- Category Tabs -->
  <div class="mt-12 flex flex-wrap justify-center gap-4">
    <% data?.specialization?.specialization?.forEach((spec, index) => { %>
    <div class="cursor-pointer bg-white inline-block px-8 py-2 rounded-full <%= index === 0 ? 'shadow-md active-tab' : '' %>" data-index="<%= index %>">
      <div class="flex items-center gap-2">
        <img src="/<%= spec.icon %>" class="w-[20px]" alt="">
        <p class="text-[15px] font-medium"><%= spec.title %></p>
      </div>
    </div>
    <% }) %>
  </div>

  <!-- Service Details Section -->
  <div class="mt-10 grid items-start grid-cols-1 lg:grid-cols-3 gap-5" id="specializationContent">
    <!-- Default content rendered for first specialization -->
    <div class="col-span-2 bg-white px-6 py-8 rounded-3xl">
      <div class="flex gap-2.5 items-center">
        <div class="bg-black h-[44px] w-[44px] rounded-lg flex justify-center items-center">
          <img src="/<%= data.specialization.specialization[0].icon %>" class="w-[26px]" style="filter: invert(100%);" alt="">
        </div>
        <div>
          <p class="font-medium text-[18px]"><%= data.specialization.specialization[0].title %></p>
          <p class="text-[12px] font-medium">Specialty</p>
        </div>
      </div>

      <p class="text-[#5D5D5D] text-[16px] mt-6 font-medium"><%= data.specialization.specialization[0].subTitle %></p>

      <div class="mt-5">
        <p class="text-[17px] font-medium">What's Included:</p>
        <div class="flex justify-between">
          <ul class="mt-3 space-y-1">
            <% data.specialization.specialization[0].includes.slice(0,3).forEach(item => { %>
            <li class="flex gap-1 items-center text-[#5D5D5D]">
              <i class="fa-regular fa-circle-check text-black"></i>
              <p class="text-[14px] font-medium mt-[4px]"><%= item %></p>
            </li>
            <% }) %>
          </ul>
          <ul class="mt-3 space-y-1">
            <% data.specialization.specialization[0].includes.slice(3).forEach(item => { %>
            <li class="flex gap-1 items-center text-[#5D5D5D]">
              <i class="fa-regular fa-circle-check text-black"></i>
              <p class="text-[14px] font-medium mt-[4px]"><%= item %></p>
            </li>
            <% }) %>
          </ul>
        </div>
      </div>
    </div>

    <!-- Right Sidebar -->
    <div class="col-span-1">
      <div class="bg-white px-6 py-8 rounded-3xl">
        <h4 class="font-medium">Service Details</h4>
        <div class="mt-4">
          <div>
            <p class="text-[#717171] text-[14px]">Turnaround Time</p>
            <p class="text-[15px] font-medium -mt-0.5"><%= data.specialization.specialization[0].turnaround %></p>
          </div>
          <div class="mt-4">
            <p class="text-[#717171] text-[14px]">Pricing</p>
            <p class="text-[15px] font-medium -mt-0.5"><%= data.specialization.specialization[0].startingAt %></p>
          </div>
          <div class="mt-4">
            <p class="text-[#717171] text-[14px]">Revisions</p>
            <p class="text-[15px] font-medium -mt-0.5"><%= data.specialization.specialization[0].revisions %></p>
          </div>
          <div class="mt-4">
            <p class="text-[#717171] text-[14px]">Format</p>
            <p class="text-[15px] font-medium -mt-0.5"><%= data.specialization.specialization[0].format %></p>
          </div>
        </div>
      </div>

      <div class="bg-white px-6 py-8 rounded-3xl mt-3">
        <h4 class="font-medium">Add-On Services</h4>
        <div class="mt-4 space-y-1">
          <div class="flex justify-between">
            <p class="text-[#5D5D5D] text-[15px] font-medium">Rush delivery (24h)</p>
            <p class="text-[15px] font-medium"><%= data.specialization.specialization[0].rushDelivery %></p>
          </div>
          <div class="flex justify-between">
            <p class="text-[#5D5D5D] text-[15px] font-medium">Additional revisions</p>
            <p class="text-[15px] font-medium"><%= data.specialization.specialization[0].additionalRevisions %></p>
          </div>
          <div class="flex justify-between">
            <p class="text-[#5D5D5D] text-[15px] font-medium">Editorial calendar creation</p>
            <p class="text-[15px] font-medium"><%= data.specialization.specialization[0].editorialCalendarCreation %></p>
          </div>
          <div class="flex justify-between">
            <p class="text-[#5D5D5D] text-[15px] font-medium">WordPress publishing</p>
            <p class="text-[15px] font-medium"><%= data.specialization.specialization[0].WordPressPublishing %></p>
          </div>
        </div>
      </div>
    </div>
  </div>

</section>


<section class="lg:px-14 px-4 lg:py-[80px] py-7">
  <div class="lg:w-[48%] text-center lg:text-left">
    <h2 class="lg:text-[40px] text-[20px] font-semibold"><%= data?.serviceProcess?.heading  %></h2>
    <p class="lg:text-[18px] text-[12px] font-medium"><%= data?.serviceProcess?.subHeading %></p>
  </div>

  <div class="grid lg:grid-cols-2 lg:gap-14 gap-5 mt-7">
    <div class="col-span-1">
      <% data?.serviceProcess?.details?.forEach((step, index) => { %>
      <div class="flex gap-3 items-center mt-<%= index === 0 ? '0' : '10' %>">
        <div class="lg:min-w-[62px] min-w-[50px] <%= index != data?.serviceProcess?.details?.length-1 ? "nextStep" : " "; %> h-[50px] lg:h-[62px] rounded-full bg-black flex justify-center items-center">
          <img src="/<%= step.icon %>" alt="" class="lg:w-[32px] w-[27px]" style=" filter: invert(1)">
        </div>

        <div>
          <h3 class="lg:text-[18px] text-[15px] font-medium"><%= (index + 1) %>. <%= step.title %></h3>
          <p class="text-[#666666] lg:text-[15px] text-[12px] font-medium"><%= step.description %></p>
        </div>
      </div>
      <% }) %>
    </div>

    <div class="col-span-1">
      <img class="w-full lg:h-[440px] h-[300px] object-cover rounded-[8px] lg:rounded-[30px]" src="/<%= data?.serviceProcess?.bgImg %>" alt="Blog Writing Process">
    </div>
  </div>
</section>

<section class="px-4 lg:px-20 lg:py-14 py-8">
  <!-- Heading -->
  <div class="text-center mb-10">
    <h2 class="lg:text-[40px] text-[20px] font-bold lg:mt-0 mt-2">
      <%= data.faq.heading %>
    </h2>
    <p class="text-gray-500 mt-1 lg:text-[15px] text-[11px] lg:w-[60%] font-medium mx-auto">
      <%= data.faq.subHeading %>
    </p>
  </div>

  <!-- FAQ Grid -->
  <div class="grid md:grid-cols-1 lg:gap-6 gap-3">
    <% for (let i = 0; i < data.faq.detail.length; i += 2) { %>
    <div class="lg:flex items-baseline gap-6">
      <% if (data.faq.detail[i]) { %>
      <div class="border rounded-lg shadow-sm cursor-pointer flex-1">
        <button class="w-full flex justify-between items-center px-3 lg:text-[16px] text-[13px] lg:px-5 lg:py-4 py-2 text-left font-medium text-gray-800" onclick="toggleFAQ(this)">
          <%= data.faq.detail[i].question %>
          <span class="ml-2 transform transition-transform">&#9662;</span>
        </button>
        <div class="lg:px-5 px-3 pb-4 lg:text-[16px] text-[12px] text-gray-600 hidden">
          <%= data.faq.detail[i].answer %>
        </div>
      </div>
      <% } %>

      <% if (data?.faq?.detail[i+1]) { %>
      <div class="border rounded-lg shadow-sm cursor-pointer flex-1 mt-3 lg:mt-0">
        <button class="w-full flex justify-between items-center px-3 lg:text-[16px] text-[13px] lg:px-5 lg:py-4 py-2 text-left font-medium text-gray-800" onclick="toggleFAQ(this)">
          <%= data.faq.detail[i+1].question %>
          <span class="ml-2 transform transition-transform">&#9662;</span>
        </button>
        <div class="lg:px-5 px-3 pb-4 lg:text-[16px] text-[12px] text-gray-600 hidden">
          <%= data.faq.detail[i+1].answer %>
        </div>
      </div>
      <% } %>
    </div>
    <% } %>
  </div>
</section>
<section class="lg:px-14 px-4 lg:py-[80px] py-[40px] bg-cover bg-center" style="background-image: url('/images/101.png')">

  <div class="grid lg:grid-cols-2 gap-12">
    <!-- Left Content -->
    <div class="col-span-1">
      <h2 class="lg:text-[32px] text-[20px] text-white">
        <%= data?.bottom?.title || "Ready to Boost Your Blog Traffic?" %>
      </h2>

      <p class="text-[#9C9C9C] text-[12px] lg:text-[17px] mt-1.5 lg:mt-3">
        <%= data?.bottom?.subTitle || "Join hundreds of successful businesses that trust Content Whale to deliver high-quality blog posts that drive organic traffic and establish thought leadership." %>
      </p>

      <ul class="lg:mt-5 mt-3 space-y-1.5">
        <% if (data?.bottom?.detail && data?.bottom?.detail.length > 0) { %>
        <% data?.bottom?.detail?.forEach((item) => { %>
        <li class="flex gap-1.5 items-center">
          <i class="fa-regular fa-circle-check text-white text-[17px] lg:text-[20px]"></i>
          <p class="lg:text-[16px] text-[14px] text-[#9C9C9C] font-medium mt-[1px]"><%= item %></p>
        </li>
        <% }) %>
        <% } else { %>
        <!-- Default (fallback if DB empty) -->
        <li class="flex gap-1.5 items-center">
          <i class="fa-regular fa-circle-check text-white text-[17px] lg:text-[20px]"></i>
          <p class="lg:text-[16px] text-[14px] text-[#9C9C9C] font-medium mt-[1px]">Free SEO audit and topic research</p>
        </li>
        <% } %>
      </ul>

      <div class="lg:mt-5 mt-3">
        <a href="#" class="bg-white inline-block rounded-md font-medium text-black lg:px-7 px-5 lg:py-2.5 py-2 lg:text-[16px] text-[13px]">
          Order Your First Blog Post
          <i class="fa-solid fa-arrow-right lg:text-[12px] text-[10px] ml-1"></i>
        </a>
      </div>
    </div>

    <!-- Right Image -->
    <div class="col-span-1">
      <img src="<%= data?.bottom?.image ? '/' + data?.bottom.image : '/images/102.png' %>" alt="Bottom section image" class="lg:h-[350px] h-[280px] lg:rounded-[30px] rounded-[8px] object-cover w-full">
    </div>
  </div>
</section>

<%-include('partials/footer')%>

<script>
  function toggleFAQ(button) {
    const content = button.nextElementSibling;
    const arrow = button.querySelector(" span");
    if (content.classList.contains("hidden")) {
      content.classList.remove("hidden");
      arrow.classList.add("rotate-180");
    } else {
      content.classList.add("hidden");
      arrow.classList.remove("rotate-180");
    }
  }
</script>

<!-- Dynamic Tab JS -->
<script>
  const tabs = document.querySelectorAll('.cursor-pointer');
  const specializationContent = document.getElementById('specializationContent');
  const specs = <%- JSON.stringify(data?.specialization?.specialization) %>;

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      const index = tab.dataset.index;

      // Highlight selected tab
      tabs.forEach(t => t.classList.remove('shadow-md', 'active-tab'));
      tab.classList.add('shadow-md', 'active-tab');

      const spec = specs[index];

      specializationContent.innerHTML = `
        <div class="col-span-2 bg-white px-6 py-8 rounded-3xl">
          <div class="flex gap-2.5 items-center">
            <div class="bg-black h-[44px] w-[44px] rounded-lg flex justify-center items-center">
              <img src="/${spec.icon}" class="w-[26px]" style="filter: invert(100%);" alt="">
            </div>
            <div>
              <p class="font-medium text-[18px]">${spec.title}</p>
              <p class="text-[12px] font-medium">Specialty</p>
            </div>
          </div>
          <p class="text-[#5D5D5D] text-[16px] mt-6 font-medium">${spec.subTitle}</p>
          <div class="mt-5">
            <p class="text-[17px] font-medium">What's Included:</p>
            <div class="flex justify-between">
              <ul class="mt-3 space-y-1">
                ${spec.includes.slice(0,3).map(item => `<li class="flex gap-1 items-center text-[#5D5D5D]">
                  <i class="fa-regular fa-circle-check text-black"></i>
                  <p class="text-[14px] font-medium mt-[4px]">${item}</p>
                </li>`).join('')}
              </ul>
              <ul class="mt-3 space-y-1">
                ${spec.includes.slice(3).map(item => `<li class="flex gap-1 items-center text-[#5D5D5D]">
                  <i class="fa-regular fa-circle-check text-black"></i>
                  <p class="text-[14px] font-medium mt-[4px]">${item}</p>
                </li>`).join('')}
              </ul>
            </div>
          </div>
        </div>

        <div class="col-span-1">
          <div class="bg-white px-6 py-8 rounded-3xl">
            <h4 class="font-medium">Service Details</h4>
            <div class="mt-4">
              <div>
                <p class="text-[#717171] text-[14px]">Turnaround Time</p>
                <p class="text-[15px] font-medium -mt-0.5">${spec.turnaround}</p>
              </div>
              <div class="mt-4">
                <p class="text-[#717171] text-[14px]">Pricing</p>
                <p class="text-[15px] font-medium -mt-0.5">${spec.startingAt}</p>
              </div>
              <div class="mt-4">
                <p class="text-[#717171] text-[14px]">Revisions</p>
                <p class="text-[15px] font-medium -mt-0.5">${spec.revisions}</p>
              </div>
              <div class="mt-4">
                <p class="text-[#717171] text-[14px]">Format</p>
                <p class="text-[15px] font-medium -mt-0.5">${spec.format}</p>
              </div>
            </div>
          </div>

          <div class="bg-white px-6 py-8 rounded-3xl mt-3">
            <h4 class="font-medium">Add-On Services</h4>
            <div class="mt-4 space-y-1">
              <div class="flex justify-between">
                <p class="text-[#5D5D5D] text-[15px] font-medium">Rush delivery (24h)</p>
                <p class="text-[15px] font-medium">${spec.rushDelivery}</p>
              </div>
              <div class="flex justify-between">
                <p class="text-[#5D5D5D] text-[15px] font-medium">Additional revisions</p>
                <p class="text-[15px] font-medium">${spec.additionalRevisions}</p>
              </div>
              <div class="flex justify-between">
                <p class="text-[#5D5D5D] text-[15px] font-medium">Editorial calendar creation</p>
                <p class="text-[15px] font-medium">${spec.editorialCalendarCreation}</p>
              </div>
              <div class="flex justify-between">
                <p class="text-[#5D5D5D] text-[15px] font-medium">WordPress publishing</p>
                <p class="text-[15px] font-medium">${spec.WordPressPublishing}</p>
              </div>
            </div>
          </div>
        </div>
      `;
    });
  });
</script>